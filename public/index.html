<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>SentinelVote Backend</title>
	<style>
		/* Original Color Palette from Frontend: */
		/* background: linear-gradient(-45deg, #4fd1c5, #0f0c29, #24243e, #23a6d5); */
		:root {
			font-family: Inter, system-ui, sans-serif;
			line-height: 1.5;
			color: white;
			background: linear-gradient(-45deg, #f39cbe, #200226, #43053d, #af81d4);
			background-size: 300% 300%;
			animation: gradient 15s ease infinite;
			--tw-blue-500: #3b82f6;
			--tw-blue-700: #1d4ed8;
			--tw-green-500: #22c55e;
			--tw-green-700: #15803d;
			--tw-red-500: #ef4444;
		}

		html, body, h1 {
			margin: 0;
			padding: 0;
		}

		main {
			& > * {
				padding-inline: 1rem;
			}

			display: grid;
		}

		header {
			& h1 {
				font-size: 1.25rem;
			}
			& span {
				color: oklch(1 0 0 / .75);
				font-size: 0.75rem;
				/* noinspection CssInvalidPropertyValue */
				text-wrap: balance;
			}
			padding-block: 1em;
			background-color: black;
			font-weight: 600;
			display: flex;
			justify-content: space-between;
			align-items: center;
			flex-wrap: wrap;
		}

		article {
			justify-self: center;
			font-size: 1.125em;
			font-weight: 500;
			flex-grow: 1;
			height: 100%;
			background-color: oklch(100% 0 0);
			color: black;
			border-radius: .25em;
			margin: 1em;
			width: fit-content;
			padding-inline: 1ch;
		}

		a.used-in-frontend {
			color: var(--tw-blue-500);
			&:hover {
				color: var(--tw-blue-700);
			}
			&:active {
				color: var(--tw-red-500);
			}
		}

		a {
			color: var(--tw-green-500);
			&:hover {
				color: var(--tw-green-700);
			}
			&:active {
				color: rgb(239 68 68);
			}
		}

		@keyframes gradient {
			0% {
				background-position: 0 50%;
			}
			50% {
				background-position: 100% 50%;
			}
			100% {
				background-position: 0 50%;
			}
		}
	</style>
</head>
<body>
<main>
	<header>
		<h1>api.sentinelvote.tech</h1>
		<span>This page is not 'part' of the election. (It is shown for development and documentation purposes)</span>
	</header>
	<article>
		<p>
			These are GET APIs that can be used to interact with the backend.<br>
			URLs that are colored in blue are used in the frontend.<br>
			URLs that are colored in green are not accessible from the frontend interface.<br>
			See <a href="https://github.com/SentinelVote/backend/blob/main/cmd/server-routes.go" style="color: #000">backend/cmd/server-routes.go</a> for more information.
		</p>
		<ul>
			<li>Voter and Admin:
				<ul>
					<li><a class="used-in-frontend" href="/is-end-of-election">/is-end-of-election</a> - Check if the election has ended.</li>
				</ul>
			</li>

			<li>Voter-only:
				<ul>
					<li><a class="used-in-frontend" href="/lrs/generate-keys">/lrs/generate-keys</a> - Generate keys for voters (in JSON).</li>
				</ul>
			</li>

			<li>Admin-only:
				<ul>
					<li><a class="used-in-frontend" href="/admin/users">/admin/users</a> - Retrieve all users in JSON.</li>
					<li><a class="used-in-frontend" href="/admin/folded-public-keys">/admin/folded-public-keys</a> - Generate folded public keys and store them in the blockchain.</li>
					<li><a class="used-in-frontend" href="/admin/announce">/admin/announce</a> - Announce the election result and stop the voting process.</li>
				</ul>
			</li>

			<li>Development-only:
				<ul>
					<li><a href="/dev/panic">/dev/panic</a> - Trigger a panic for testing.</li>
					<li><a href="/dev/mem-system">/dev/mem-system</a> - Retrieve system memory usage in JSON.</li>
					<li><a href="/dev/mem-app">/dev/mem-app</a> - Retrieve application memory usage in JSON.</li>
					<li><a href="/dev/db">/dev/db</a> - Retrieve full database in JSON.</li>
					<li><a class="used-in-frontend" href="/dev/db/reset/{schema}/{users}">/dev/db/reset/{schema}/{users}</a> - Reset database (specify schema and users).</li>
					<li><a class="used-in-frontend" href="/dev/db/reset/production/3">/dev/db/reset/production/3</a> - Reset database with 3 users, using production schema.</li>
					<li><a class="used-in-frontend" href="/dev/db/reset/simulation/3">/dev/db/reset/simulation/3</a> - Reset database with 3 users, using simulation schema.</li>
					<li><a class="used-in-frontend" href="/dev/db/reset/simulation-full/3">/dev/db/reset/simulation-full/3</a> - Reset database with 3 users, using full simulation schema.</li>
					<li><a href="/dev/blockchain/reset">/dev/blockchain/reset</a> - Reset blockchain (takes a while, <strong>do not refresh or close the page</strong>).</li>
				</ul>
			</li>
		</ul>
	</article>
</main>
</body>
</html>
